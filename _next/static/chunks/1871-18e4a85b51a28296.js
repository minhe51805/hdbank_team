(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1871],{77329:function(){},61108:function(e,t,n){"use strict";n.d(t,{Jx:function(){return z},GI:function(){return A},ZP:function(){return k}});var r=n(67294);const o=r.createContext(null);function a(e,t){if(e===t)return 1;if(e&&t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return;for(let n=0;n<e.length;n++)if(!a(e[n],t[n]))return;return 1}if(!Array.isArray(t)&&"object"==typeof e&&"object"==typeof t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return;for(const r of n){if(!t.hasOwnProperty(r))return;if(!a(e[r],t[r]))return}return 1}}}function s(e,t){!e.getProjection||a(e=e.getProjection(),t.getProjection())||t.setProjection(e)}function i(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function l(e,t){var n;let r=!1;if("longitude"in(t=t.viewState||t)&&"latitude"in t){const n=e.center;e.center=new n.constructor(t.longitude,t.latitude),r=r||n!==e.center}return"zoom"in t&&(n=e.zoom,e.zoom=t.zoom,r=r||n!==e.zoom),"bearing"in t&&(n=e.bearing,e.bearing=t.bearing,r=r||n!==e.bearing),"pitch"in t&&(n=e.pitch,e.pitch=t.pitch,r=r||n!==e.pitch),t.padding&&!e.isPaddingEqual(t.padding)&&(r=!0,e.padding=t.padding),r}const u=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function c(e){if(!e)return null;if("string"==typeof e)return e;if(!(e="toJS"in e?e.toJS():e).layers)return e;const t={};for(const r of e.layers)t[r.id]=r;var n=e.layers.map((e=>{let n=null;"interactive"in e&&delete(n=Object.assign({},e)).interactive;var r=t[e.ref];if(r){delete(n=n||Object.assign({},e)).ref;for(const e of u)e in r&&(n[e]=r[e])}return n||e}));return{...e,layers:n}}var p=n(34155);const d={version:8,sources:{},layers:[]},m={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},f={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},h={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},g=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],v=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class y{constructor(e,t,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[h[e.type]];t?t(e):"error"===e.type&&console.error(e.error)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[m[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[f[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){var t=this.props,n=(this.props=e,this._updateSettings(e,t)),r=(n&&this._createShadowTransform(this._map),this._updateSize(e)),o=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||r||o&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const n=y.savedMaps.pop();if(!n)return null;const r=n.map;var o=r.getContainer();for(t.className=o.className;0<o.childNodes.length;)t.appendChild(o.childNodes[0]);r._container=t;const a=r._resizeObserver;return a&&(a.disconnect(),a.observe(t)),n.setProps({...e,styleDiffing:!1}),r.resize(),(e=e.initialViewState)&&(e.bounds?r.fitBounds(e.bounds,{...e.fitBoundsOptions,duration:0}):n._updateViewState(e,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),r._update(),n}_initialize(e){const t=this.props;var{mapStyle:n=d}=t,n=(e={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||function(){let e=null;var t;"undefined"!=typeof location&&(e=(t=/access_token=([^&\/]*)/.exec(location.search))&&t[1]);try{e=e||p.env.MapboxAccessToken}catch(e){}try{e=e||p.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(e){}return e}()||null,container:e,style:c(n)},e.initialViewState||e.viewState||e);if(Object.assign(e,{center:[n.longitude||0,n.latitude||0],zoom:n.zoom||0,pitch:n.pitch||0,bearing:n.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const r=new this._MapClass(e),o=(n.padding&&r.setPadding(n.padding),t.cursor&&(r.getCanvas().style.cursor=t.cursor),this._createShadowTransform(r),r._render),a=(r._render=e=>{this._inRender=!0,o.call(r,e),this._inRender=!1},r._renderTaskQueue.run);r._renderTaskQueue.run=e=>{a.call(r._renderTaskQueue,e),this._onBeforeRepaint()},r.on("render",(()=>this._onAfterRepaint())),e=r.fire,r.fire=this._fireEvent.bind(this,e),r.on("resize",(()=>{this._renderTransform.resize(r.transform.width,r.transform.height)})),r.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),s(r.transform,this._renderTransform)})),r.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const s in m)r.on(s,this._onPointerEvent);for(const s in f)r.on(s,this._onCameraEvent);for(const s in h)r.on(s,this._onEvent);this._map=r}recycle(){const e=this.map.getContainer().querySelector("[mapboxgl-children]");null!==e&&void 0!==e&&e.remove(),y.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){var t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){if(e=e.viewState){const t=this._map;if(e.width!==t.transform.width||e.height!==t.transform.height)return t.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const n=this._map,r=this._renderTransform;var{zoom:o,pitch:a,bearing:s}=r,u=n.isMoving(),c=(u&&(r.cameraElevationReference="sea"),l(r,{...i(n.transform),...e}));if(u&&(r.cameraElevationReference="ground"),c&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=o!==r.zoom),e.rotate||(e.rotate=s!==r.bearing),e.pitch||(e.pitch=a!==r.pitch)}return u||l(n.transform,e),c}_updateSettings(e,t){var n=this._map;let r=!1;for(const o of g)if(o in e&&!a(e[o],t[o])){r=!0;const t=n["set"+o[0].toUpperCase()+o.slice(1)];null!==t&&void 0!==t&&t.call(n,e[o])}return r}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle===t.mapStyle)return!1;{var{mapStyle:t=d,styleDiffing:n=!0}=e;const r={diff:n};return"localIdeographFontFamily"in e&&(r.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(c(t),r),!0}}_updateStyleComponents(e,t){const n=this._map;let r=!1;return n.isStyleLoaded()&&("light"in e&&n.setLight&&!a(e.light,t.light)&&(r=!0,n.setLight(e.light)),"fog"in e&&n.setFog&&!a(e.fog,t.fog)&&(r=!0,n.setFog(e.fog)),"terrain"in e&&n.setTerrain&&!a(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(r=!0,n.setTerrain(e.terrain)))),r}_updateHandlers(e,t){var n;const r=this._map;let o=!1;for(const i of v){var s=null==(s=e[i])||s;a(s,null==(n=t[i])||n)||(o=!0,s?r[i].enable(s):r[i].disable())}return o}_queryRenderedFeatures(e){const t=this._map;var n=t.transform;const{interactiveLayerIds:r=[]}=this.props;try{return t.transform=this._renderTransform,t.queryRenderedFeatures(e,{layers:r.filter(t.getLayer.bind(t))})}catch(e){return[]}finally{t.transform=n}}_updateHover(e){var t,n,r,o=this.props;o.interactiveLayerIds&&(o.onMouseMove||o.onMouseEnter||o.onMouseLeave)?(o=e.type,t=0<(null==(t=this._hoveredFeatures)?void 0:t.length),!(r=0<(n=this._queryRenderedFeatures(e.point)).length)&&t&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=n,r&&!t&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=o):this._hoveredFeatures=null}_fireEvent(e,t,n){const r=this._map;var o=r.transform,a="string"==typeof t?t:t.type;return"move"===a&&this._updateViewState(this.props,!1),a in f&&("object"==typeof t&&(t.viewState=i(o)),this._map.isMoving())?(r.transform=this._renderTransform,e.call(r,t,n),r.transform=o):e.call(r,t,n),r}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&e.fire(n);this._internalUpdate=!1;const t=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{s(this._renderTransform,t),e.transform=t}}}y.savedMaps=[];const _=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function b(e){if(!e)return null;const t=e.map,n={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>{var r=t.transform;t.transform=e.transform,n=t.project(n);return t.transform=r,n},unproject:n=>{var r=t.transform;t.transform=e.transform,n=t.unproject(n);return t.transform=r,n},queryTerrainElevation:(n,r)=>{var o=t.transform;t.transform=e.transform,n=t.queryTerrainElevation(n,r);return t.transform=o,n},queryRenderedFeatures:(n,r)=>{var o=t.transform;t.transform=e.transform,n=t.queryRenderedFeatures(n,r);return t.transform=o,n}};for(const r of function(e){const t=new Set;let n=e;for(;n;){for(const r of Object.getOwnPropertyNames(n))"_"!==r[0]&&"function"==typeof e[r]&&"fire"!==r&&"setEventedParent"!==r&&t.add(r);n=Object.getPrototypeOf(n)}return Array.from(t)}(t))r in n||_.includes(r)||(n[r]=t[r].bind(t));return n}var E="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;const L=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"],x=r.createContext(null);var C=n(73935);const S=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function M(e,t){if(e&&t){const r=e.style;for(const e in t){var n=t[e];Number.isFinite(n)&&!S.test(e)?r[e]=n+"px":r[e]=n}}}function w(e){return new Set(e?e.trim().split(/\s+/):[])}t=(0,r.memo)((0,r.forwardRef)((function(e,t){const{map:n,mapLib:o}=(0,r.useContext)(x),a=(0,r.useRef)({props:e}),s=(a.current.props=e,(0,r.useMemo)((()=>{let t=!1;r.Children.forEach(e.children,(e=>{e&&(t=!0)}));var n={...e,element:t?document.createElement("div"):null};const i=new o.Marker(n);return i.setLngLat([e.longitude,e.latitude]),i.getElement().addEventListener("click",(e=>{var t,n;null!=(n=(t=a.current.props).onClick)&&n.call(t,{type:"click",target:i,originalEvent:e})})),i.on("dragstart",(e=>{var t;const n=e;n.lngLat=s.getLngLat(),null!=(t=(e=a.current.props).onDragStart)&&t.call(e,n)})),i.on("drag",(e=>{var t;const n=e;n.lngLat=s.getLngLat(),null!=(t=(e=a.current.props).onDrag)&&t.call(e,n)})),i.on("dragend",(e=>{var t;const n=e;n.lngLat=s.getLngLat(),null!=(t=(e=a.current.props).onDragEnd)&&t.call(e,n)})),i}),[])),{longitude:i,latitude:l,offset:u,style:c,draggable:p=!1,popup:d=null,rotation:m=0,rotationAlignment:f="auto",pitchAlignment:h="auto"}=((0,r.useEffect)((()=>(s.addTo(n.getMap()),()=>{s.remove()})),[]),e);var g,v,y;return(0,r.useEffect)((()=>{M(s.getElement(),c)}),[c]),(0,r.useImperativeHandle)(t,(()=>s),[]),s.getLngLat().lng===i&&s.getLngLat().lat===l||s.setLngLat([i,l]),u&&(t=s.getOffset(),g=u,v=Array.isArray(t)?t[0]:t?t.x:0,t=Array.isArray(t)?t[1]:t?t.y:0,y=Array.isArray(g)?g[0]:g?g.x:0,g=Array.isArray(g)?g[1]:g?g.y:0,v!==y||t!==g)&&s.setOffset(u),s.isDraggable()!==p&&s.setDraggable(p),s.getRotation()!==m&&s.setRotation(m),s.getRotationAlignment()!==f&&s.setRotationAlignment(f),s.getPitchAlignment()!==h&&s.setPitchAlignment(h),s.getPopup()!==d&&s.setPopup(d),(0,C.createPortal)(e.children,s.getElement())})));var P=(0,r.memo)((0,r.forwardRef)((function(e,t){const{map:n,mapLib:o}=(0,r.useContext)(x),s=(0,r.useMemo)((()=>document.createElement("div")),[]),i=(0,r.useRef)({props:e}),l=(i.current.props=e,(0,r.useMemo)((()=>{var t={...e};const n=new o.Popup(t);return n.setLngLat([e.longitude,e.latitude]),n.once("open",(e=>{var t,n;null!=(n=(t=i.current.props).onOpen)&&n.call(t,e)})),n}),[]));if((0,r.useEffect)((()=>{const e=e=>{var t,n;null!=(n=(t=i.current.props).onClose)&&n.call(t,e)};return l.on("close",e),l.setDOMContent(s).addTo(n.getMap()),()=>{l.off("close",e),l.isOpen()&&l.remove()}}),[]),(0,r.useEffect)((()=>{M(l.getElement(),e.style)}),[e.style]),(0,r.useImperativeHandle)(t,(()=>l),[]),l.isOpen()&&(l.getLngLat().lng===e.longitude&&l.getLngLat().lat===e.latitude||l.setLngLat([e.longitude,e.latitude]),e.offset&&!a(l.options.offset,e.offset)&&l.setOffset(e.offset),l.options.anchor===e.anchor&&l.options.maxWidth===e.maxWidth||(l.options.anchor=e.anchor,l.setMaxWidth(e.maxWidth)),l.options.className!==e.className)){const t=w(l.options.className),n=w(e.className);for(const e of t)n.has(e)||l.removeClassName(e);for(const e of n)t.has(e)||l.addClassName(e);l.options.className=e.className}return(0,C.createPortal)(e.children,s)}))),R=function(e,t,n,o){const a=(0,r.useContext)(x),s=(0,r.useMemo)((()=>e(a)),[]);return(0,r.useEffect)((()=>{var e=o||n||t;const r="function"==typeof t&&"function"==typeof n?t:null,i="function"==typeof n?n:"function"==typeof t?t:null,l=a.map;return l.hasControl(s)||(l.addControl(s,null==e?void 0:e.position),r&&r(a)),()=>{i&&i(a),l.hasControl(s)&&l.removeControl(s)}}),[]),s};(0,r.memo)((function(e){const t=R((({mapLib:t})=>new t.AttributionControl(e)),{position:e.position});return(0,r.useEffect)((()=>{M(t._container,e.style)}),[e.style]),null})),(0,r.memo)((function(e){const t=R((({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)})),{position:e.position});return(0,r.useEffect)((()=>{M(t._controlContainer,e.style)}),[e.style]),null})),(0,r.memo)((0,r.forwardRef)((function(e,t){const n=(0,r.useRef)({props:e}),o=R((({mapLib:t})=>{const r=new t.GeolocateControl(e),o=r._setupUI;return r._setupUI=e=>{r._container.hasChildNodes()||o(e)},r.on("geolocate",(e=>{var t,r;null!=(r=(t=n.current.props).onGeolocate)&&r.call(t,e)})),r.on("error",(e=>{var t,r;null!=(r=(t=n.current.props).onError)&&r.call(t,e)})),r.on("outofmaxbounds",(e=>{var t,r;null!=(r=(t=n.current.props).onOutOfMaxBounds)&&r.call(t,e)})),r.on("trackuserlocationstart",(e=>{var t,r;null!=(r=(t=n.current.props).onTrackUserLocationStart)&&r.call(t,e)})),r.on("trackuserlocationend",(e=>{var t,r;null!=(r=(t=n.current.props).onTrackUserLocationEnd)&&r.call(t,e)})),r}),{position:e.position});return n.current.props=e,(0,r.useImperativeHandle)(t,(()=>o),[]),(0,r.useEffect)((()=>{M(o._container,e.style)}),[e.style]),null}))),(0,r.memo)((function(e){const t=R((({mapLib:t})=>new t.NavigationControl(e)),{position:e.position});return(0,r.useEffect)((()=>{M(t._container,e.style)}),[e.style]),null})),(0,r.memo)((function(e){const t=R((({mapLib:t})=>new t.ScaleControl(e)),{position:e.position}),n=(0,r.useRef)(e);var o=n.current;const a=(n.current=e).style;return void 0!==e.maxWidth&&e.maxWidth!==o.maxWidth&&(t.options.maxWidth=e.maxWidth),void 0!==e.unit&&e.unit!==o.unit&&t.setUnit(e.unit),(0,r.useEffect)((()=>{M(t._container,a)}),[a]),null}));const T=n.e(2634).then(n.t.bind(n,6158,23));n=r.forwardRef((function(e,t){return function(e,t,n){const a=(0,r.useContext)(o),[s,i]=(0,r.useState)(null),l=(0,r.useRef)(),u=(0,r.useRef)({mapLib:null,map:null}).current;return(0,r.useEffect)((()=>{var t=e.mapLib;let r,o=!0;return Promise.resolve(t||n).then((t=>{if(o){if(!t)throw new Error("Invalid mapLib");const o="Map"in t?t:t.default;if(!o.Map)throw new Error("Invalid mapLib");var n=o,s=e;for(const e of L)e in s&&(n[e]=s[e]);var{RTLTextPlugin:t="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=s;if(t&&n.getRTLTextPluginStatus&&"unavailable"===n.getRTLTextPluginStatus()&&n.setRTLTextPlugin(t,(e=>{e&&console.error(e)}),!0),o.supported&&!o.supported(e))throw new Error("Map is not supported by this browser");r=(r=e.reuseMaps?y.reuse(e,l.current):r)||new y(o.Map,e,l.current),u.map=b(r),u.mapLib=o,i(r),null!==a&&void 0!==a&&a.onMapMount(u.map,e.id)}})).catch((t=>{const n=e.onError;n?n({type:"error",target:null,originalEvent:null,error:t}):console.error(t)})),()=>{o=!1,r&&(null!==a&&void 0!==a&&a.onMapUnmount(e.id),e.reuseMaps?r.recycle():r.destroy())}}),[]),E((()=>{s&&s.setProps(e)})),(0,r.useImperativeHandle)(t,(()=>u.map),[s]),t=(0,r.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...e.style})),[e.style]),r.createElement("div",{id:e.id,ref:l,style:t},s&&r.createElement(x.Provider,{value:u},r.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},e.children)))}(e,t,T)}));const z=t,A=P;var k=n}}]);